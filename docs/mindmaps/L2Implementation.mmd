Mind Map generated by NB MindMap plugin
> __version__=`1.1`,showJumps=`true`
---

# L2 optimization

## Approach
> collapsed=`true`


### Sidechain
> collapsed=`true`


#### xDAI

### Bridging
> collapsed=`true`


#### Tokens
> collapsed=`true`


##### \(new\) $KING \(ERC\-20\)
> collapsed=`true`


###### not new ERC\-1155?
> collapsed=`true`


####### it would break Uniswap sidechain clones

##### NFTs \(ERC\-721\)
> collapsed=`true`


###### \.\.\. or new ERC\-1155
> collapsed=`true`


####### Doubts?
> collapsed=`true`


######## efficient enought w/o side\-chain $KING being ERC\-1155?

### meta txs \(aka "gasless"\)
> collapsed=`true`


#### on the sidechain

#### relayers pool
> collapsed=`true`


##### runed by
> collapsed=`true`


###### KS company
> collapsed=`true`


####### relatively easy new contract

###### \.\.\. or members/stakers
> collapsed=`true`


####### relatively complex new contract

###### 3\-rd party solution
> collapsed=`true`


####### biconomy
- LINK
<pre>https://docs.biconomy.io/biconomy-dashboard</pre>

##### paid by
> collapsed=`true`


###### KS company donates
> collapsed=`true`


####### relatively easy new contract

###### users
> collapsed=`true`


####### in $KINGs

####### in NFTs ?

###### mixed
> collapsed=`true`


####### KS company donates

####### \.\. and users
> collapsed=`true`


######## stakes NFTs

######## \.\. or pay with NFTs

#### efforts needed
> collapsed=`true`


##### sidechain contracts extension
> collapsed=`true`


###### to support meta\-txs
> collapsed=`true`


####### for tokens
> collapsed=`true`


######## transfer

######## approve

######## transferFrom

####### for stking
> collapsed=`true`


######## stake/unstake

####### for Uniswap clone
> collapsed=`true`


######## add/remove liquidity

######## swap

####### time guesstimated
> collapsed=`true`


######## ~ 120 hrs = 10 contracts \* 4 functions \* 3 hours

##### new sidechain contracts
> collapsed=`true`


###### relayer contract
> collapsed=`true`


####### time guesstimation
> collapsed=`true`


######## ~ 30 hrs \(but it depends \.\.\.\)

###### not needed if a 3\-rd party pool used

## Scope
> collapsed=`true`


### New contracts
> collapsed=`true`


#### Bridge/Iface
> collapsed=`true`


##### Mediator\(s\)
> collapsed=`true`


###### for Mainnet
> collapsed=`true`


####### new

###### for Sidechain
> collapsed=`true`


####### new

### Affected contracts
> collapsed=`true`


#### KingSwap NFTs
> collapsed=`true`


##### ERC\-721 customized
> collapsed=`true`


###### sidechain BRIDGED copy needed
> collapsed=`true`


####### \.\.\. or new ERC\-1155 BRIDGED contract

####### \.\.\. possibly a new "gasless" feature

##### Instances \(Tokens\)
> collapsed=`true`


###### KingTokenNFTKingWerewolf

###### KingTokenNFTKnightMummy

###### KingTokenNFTQueenVampz

###### KingTokenNFTsKing

###### KingTokenNFTsQueen

###### KingTokenNFTsKnight

#### \(new\) $KING Token \(ERC\-20\)
> collapsed=`true`


##### sidechain BRIDGED copy needed
> collapsed=`true`


###### \.\.\. possibly a new "gasless" feature

#### NFTs distributions
> collapsed=`true`


##### KingTokenDistributeNFT
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### \.\.\. or update for ERC\-1155

#### Uni/Sake \-like staking
> collapsed=`true`


##### ArchbishopV2
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### \.\.\. possibly a new "gasless" feature

##### CourtJester
> collapsed=`true`


###### sidechain copy \(1:1\)

##### KingServant
> collapsed=`true`


###### sidechain copy \(1:1\)

##### RoundTable
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### \.\.\. possibly a new "gasless" feature

#### KS' staking/borrowing
> collapsed=`true`


##### QueenDecks
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### \.\.\. possibly a new "gasless" feature

##### RoyalDecks
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### \.\.\. or update for ERC\-1155

####### \.\.\. possibly a new "gasless" feature

##### KingDecks
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### \.\.\. or update for ERC\-1155

####### \.\.\. possibly a new "gasless" feature

##### RaffleDraw
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### \.\.\. or update for ERC\-1155

###### \.\.\. possibly a new "gasless" feature

#### Uniswap \(sake\) cloned
> collapsed=`true`


##### KingSwapFactory
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### review of \(sake/uni\) updates needed

##### KingSwapPair
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### review of \(sake/uni\) updates needed

##### KingSwapRouter
> collapsed=`true`


###### sidechain copy \(1:1\)
> collapsed=`true`


####### review of \(sake/uni\) updates needed

###### \.\.\. possibly a new "gasless" feature

### Maybe affeccted contracts
> collapsed=`true`


#### Governance
> collapsed=`true`


##### GovernorAlpha
> collapsed=`true`


###### unused

##### Timelock
> collapsed=`true`


###### unused

##### KingVoterCalc
> collapsed=`true`


###### unused

##### KingVoterProxy
> collapsed=`true`


###### unused

### Unaffected Contracts
> collapsed=`true`


#### old & unused
> collapsed=`true`


##### Archbishop
> collapsed=`true`


###### ended

##### Old $KING Token \(ERC\-20\)
> collapsed=`true`


###### ending

##### UniStake
> collapsed=`true`


###### unused

##### KingLock

##### STokenMaster
> collapsed=`true`


###### unused

##### KingUni
> collapsed=`true`


###### unused

##### Uni/Sake \-like staking
> collapsed=`true`


###### KingUniV2
> collapsed=`true`


####### unused

## New contracts

### Sidechain

#### Bridge/Iface

##### xMediator
> collapsed=`true`


###### relayTokens

###### transferAndCall

#### x$KING token
> collapsed=`true`


##### $KING Replica

##### ERC677

#### xNFTs

##### Originals

##### Questions
> collapsed=`true`


###### Plans in regards to "old" NFTs

###### Ideas on NFTs for the future

###### Is/how the KingERC1155 used
> collapsed=`true`


####### data file
- LINK
<pre>https://github.com/TheKingSwap/thekingswap.github.io</pre>

###### On\-chain / Off\-chain indexing
> collapsed=`true`


####### A list of owners?

####### who owns a token?

###### Where original vs replica

##### ERC\-1155

###### optimized

####### https://github\.com/0xsequence/multi\-token\-standard

####### at least 60 toekns

######## up to 255 instances of each

#### xKingSwap

##### Uniswap \(SakeSwap\) clone
> collapsed=`true`


###### HoneySwap
> collapsed=`true`

- LINK
<pre>https://www.xdaichain.com/about-xdai/project-spotlights/honeyswap</pre>

####### github
- LINK
<pre>https://github.com/1Hive/uniswap-v2-core</pre>

####### App
- LINK
<pre>https://app.honeyswap.org/#/swap</pre>

###### KingSwapERC20<br/>KingSwapFactory<br/>KingSwapPair<br/>KingSwapRouter<br/>KingSwapSlippageToken<br/>Libraries

#### Uni/Sake \-like staking
> collapsed=`true`


##### ArchbishopV2
> collapsed=`true`


###### sidechain copy
> collapsed=`true`


####### extended with "gasless" txs

##### CourtJester
> collapsed=`true`


###### sidechain copy \(1:1\)

##### KingServant
> collapsed=`true`


###### sidechain copy \(1:1\)

##### RoundTable
> collapsed=`true`


###### sidechain copy
> collapsed=`true`


####### extended with "gasless" txs

#### KS' staking/borrowing
> collapsed=`true`


##### QueenDecks
> collapsed=`true`


###### sidechain copy
> collapsed=`true`


####### extended with "gasless" txs

##### RoyalDecks
> collapsed=`true`


###### sidechain copy
> collapsed=`true`


####### update for ERC\-1155

####### extended with "gasless" txs

##### KingDecks
> collapsed=`true`


###### sidechain copy
> collapsed=`true`


####### update for ERC\-1155

####### extended with "gasless" txs

##### RaffleDraw
> collapsed=`true`


###### sidechain copy
> collapsed=`true`


####### update for ERC\-1155

####### extended with "gasless" txs

### Mainchain

#### Bridge/Iface

##### Mediator

#### xNFTs Replica

##### https://github\.com/ProjectOpenSea/opensea\-erc1155
